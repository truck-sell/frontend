(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e0023cfe"],{"1c88":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"components-container"},[a("pan-thumb",{attrs:{image:t.image}}),t._v(" "),a("el-button",{staticStyle:{position:"absolute",bottom:"15px","margin-left":"40px"},attrs:{type:"primary",icon:"upload"},on:{click:t.toggleShow}},[t._v("\n    上传头像\n  ")]),t._v(" "),a("image-cropper",{attrs:{field:"multipartFile",width:300,height:300,url:t.url,params:t.params,headers:t.headers,"img-format":"png"},on:{"crop-success":t.cropSuccess,"crop-upload-success":t.cropUploadSuccess,"crop-upload-fail":t.cropUploadFail},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1)},n=[],s=(a("7f7f"),a("0b4d")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pan-item",style:{zIndex:t.zIndex,height:t.height,width:t.width}},[a("div",{staticClass:"pan-info"},[a("div",{staticClass:"pan-info-roles-container"},[t._t("default")],2)]),t._v(" "),a("div",{staticClass:"pan-thumb",style:{backgroundImage:"url("+t.image+")"}})])},i=[],r=(a("c5f6"),{name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}}),u=r,l=(a("67a9"),a("2877")),p=Object(l["a"])(u,c,i,!1,null,"10e160c7",null),d=p.exports,f=a("5f87"),h=a("7f87"),m={name:"ProfileIcon",components:{ImageCropper:s["a"],PanThumb:d},data:function(){return{url:"http://leg.liudongyang.top:8888/api/upload",show:!1,params:{access_token:Object(f["a"])()},headers:{smail:"*_~"},image:this.$store.getters.avatar}},methods:{toggleShow:function(){this.show=!this.show},cropSuccess:function(t,e){console.log("-------- crop success --------"),this.image=t},cropUploadSuccess:function(t,e){var a=this;console.log("-------- upload success --------"),console.log(t),console.log("path: ",t.data.path),console.log("field: "+e),Object(h["b"])({username:this.$store.getters.name,path:t.data.path}).then((function(e){a.$message({message:e.message,type:"success"}),a.$store.dispatch("user/setAvatar",t.data.path)})).catch((function(){}))},cropUploadFail:function(t,e){console.log("-------- upload fail --------"),console.log(t),console.log("field: "+e)}}},g=m,b=(a("c07f"),Object(l["a"])(g,o,n,!1,null,"35d5df95",null));e["default"]=b.exports},"644a":function(t,e,a){},"67a9":function(t,e,a){"use strict";var o=a("6e50"),n=a.n(o);n.a},"6e50":function(t,e,a){},"7f87":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"d",(function(){return s})),a.d(e,"c",(function(){return c})),a.d(e,"b",(function(){return i}));var o=a("b775");function n(t){return Object(o["a"])({url:"/profile/info/"+t,method:"get"})}function s(t){return Object(o["a"])({url:"/profile/update",method:"post",data:t})}function c(t){return Object(o["a"])({url:"/profile/modify/password",method:"post",data:t})}function i(t){return Object(o["a"])({url:"/profile/modify/icon",method:"post",data:t})}},c07f:function(t,e,a){"use strict";var o=a("644a"),n=a.n(o);n.a}}]);